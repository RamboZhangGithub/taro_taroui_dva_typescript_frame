{"version":3,"file":"index.js","sources":["../src/components.ts","../src/program.ts","../src/index.ts"],"sourcesContent":["export const components = {\n  // ======== 调整属性 ========\n  Button: {\n    'app-packagename': '',\n    'app-bundleid': '',\n    'app-connect-id': '',\n    'group-id': '',\n    'public-id': '',\n    'share-type': '27',\n    'share-mode': '[\\'qq\\', \\'qzone\\']',\n    'aria-label': '',\n    'open-id': '',\n    'share-message-friend-info': '',\n    bindAddFriend: '',\n    bindAddGroupApp: ''\n  }\n}\n","import { Weapp } from '@tarojs/plugin-platform-weapp'\nimport { components } from './components'\n\nconst PACKAGE_NAME = '@tarojs/plugin-platform-qq'\n\nexport default class QQ extends Weapp {\n  platform = 'qq'\n  globalObject = 'qq'\n  projectConfigJson = 'project.qq.json'\n  runtimePath = `${PACKAGE_NAME}/dist/runtime`\n  fileType = {\n    templ: '.qml',\n    style: '.qss',\n    config: '.json',\n    script: '.js',\n    xs: '.wxs'\n  }\n\n  /**\n   * 1. setupTransaction - init\n   * 2. setup\n   * 3. setupTransaction - close\n   * 4. buildTransaction - init\n   * 5. build\n   * 6. buildTransaction - close\n   */\n  constructor (ctx, config) {\n    super(ctx, config)\n\n    this.buildTransaction.addWrapper({\n      init: this.beforeBuild\n    })\n  }\n\n  beforeBuild () {\n    // 处理 QQ 与微信的组件差异\n    this.template.mergeComponents(this.ctx, components)\n    this.template.Adapter = {\n      if: 'qq:if',\n      else: 'qq:else',\n      elseif: 'qq:elif',\n      for: 'qq:for',\n      forItem: 'qq:for-item',\n      forIndex: 'qq:for-index',\n      key: 'qq:key',\n      xs: 'wxs',\n      type: 'qq'\n    }\n  }\n}\n","import QQ from './program'\nimport type { IPluginContext } from '@tarojs/service'\n\nexport { QQ }\n\nexport default (ctx: IPluginContext) => {\n  ctx.registerPlatform({\n    name: 'qq',\n    useConfigName: 'mini',\n    async fn ({ config }) {\n      const program = new QQ(ctx, config)\n      await program.start()\n    }\n  })\n}\n"],"names":["Weapp"],"mappings":";;;;;;AAAO,MAAM,UAAU,GAAG;;IAExB,MAAM,EAAE;QACN,iBAAiB,EAAE,EAAE;QACrB,cAAc,EAAE,EAAE;QAClB,gBAAgB,EAAE,EAAE;QACpB,UAAU,EAAE,EAAE;QACd,WAAW,EAAE,EAAE;QACf,YAAY,EAAE,IAAI;QAClB,YAAY,EAAE,qBAAqB;QACnC,YAAY,EAAE,EAAE;QAChB,SAAS,EAAE,EAAE;QACb,2BAA2B,EAAE,EAAE;QAC/B,aAAa,EAAE,EAAE;QACjB,eAAe,EAAE,EAAE;KACpB;CACF;;ACbD,MAAM,YAAY,GAAG,4BAA4B,CAAA;AAEjD,MAAqB,EAAG,SAAQA,yBAAK;;;;;;;;;IAqBnC,YAAa,GAAG,EAAE,MAAM;QACtB,KAAK,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;QArBpB,aAAQ,GAAG,IAAI,CAAA;QACf,iBAAY,GAAG,IAAI,CAAA;QACnB,sBAAiB,GAAG,iBAAiB,CAAA;QACrC,gBAAW,GAAG,GAAG,YAAY,eAAe,CAAA;QAC5C,aAAQ,GAAG;YACT,KAAK,EAAE,MAAM;YACb,KAAK,EAAE,MAAM;YACb,MAAM,EAAE,OAAO;YACf,MAAM,EAAE,KAAK;YACb,EAAE,EAAE,MAAM;SACX,CAAA;QAaC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;YAC/B,IAAI,EAAE,IAAI,CAAC,WAAW;SACvB,CAAC,CAAA;KACH;IAED,WAAW;;QAET,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAA;QACnD,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG;YACtB,EAAE,EAAE,OAAO;YACX,IAAI,EAAE,SAAS;YACf,MAAM,EAAE,SAAS;YACjB,GAAG,EAAE,QAAQ;YACb,OAAO,EAAE,aAAa;YACtB,QAAQ,EAAE,cAAc;YACxB,GAAG,EAAE,QAAQ;YACb,EAAE,EAAE,KAAK;YACT,IAAI,EAAE,IAAI;SACX,CAAA;KACF;CACF;;AC5CD,YAAe,CAAC,GAAmB;IACjC,GAAG,CAAC,gBAAgB,CAAC;QACnB,IAAI,EAAE,IAAI;QACV,aAAa,EAAE,MAAM;QACrB,MAAM,EAAE,CAAE,EAAE,MAAM,EAAE;YAClB,MAAM,OAAO,GAAG,IAAI,EAAE,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;YACnC,MAAM,OAAO,CAAC,KAAK,EAAE,CAAA;SACtB;KACF,CAAC,CAAA;AACJ,CAAC,CAAA;;;;;"}