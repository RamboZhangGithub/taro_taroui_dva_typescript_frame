{"version":3,"file":"index.js","sources":["../src/props.ts","../src/reconciler.ts","../src/render.ts","../src/index.ts"],"sourcesContent":["import { TaroElement, Style, FormElement } from '@tarojs/runtime'\nimport { isFunction, isString, isObject, isNumber, internalComponents, capitalize, toCamelCase } from '@tarojs/shared'\n\nexport type Props = Record<string, unknown>\n\nfunction isEventName (s: string) {\n  return s[0] === 'o' && s[1] === 'n'\n}\n\nconst IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i\n\nexport function updateProps (dom: TaroElement, oldProps: Props, newProps: Props) {\n  let i: string\n\n  for (i in oldProps) {\n    if (!(i in newProps)) {\n      setProperty(dom, i, null, oldProps[i])\n    }\n  }\n  const isFormElement = dom instanceof FormElement\n  for (i in newProps) {\n    if (oldProps[i] !== newProps[i] || (isFormElement && i === 'value')) {\n      setProperty(dom, i, newProps[i], oldProps[i])\n    }\n  }\n}\n\n// function eventProxy (e: CommonEvent) {\n//   const el = document.getElementById(e.currentTarget.id)\n//   const handlers = el!.__handlers[e.type]\n//   handlers[0](e)\n// }\n\nfunction setEvent (dom: TaroElement, name: string, value: unknown, oldValue?: unknown) {\n  const isCapture = name.endsWith('Capture')\n  let eventName = name.toLowerCase().slice(2)\n  if (isCapture) {\n    eventName = eventName.slice(0, -7)\n  }\n\n  const compName = capitalize(toCamelCase(dom.tagName.toLowerCase()))\n\n  if (eventName === 'click' && compName in internalComponents) {\n    eventName = 'tap'\n  }\n\n  if (isFunction(value)) {\n    if (!oldValue) {\n      dom.addEventListener(eventName, value, isCapture)\n    }\n    if (eventName === 'regionchange') {\n      dom.__handlers.begin[0] = value\n      dom.__handlers.end[0] = value\n    } else {\n      dom.__handlers[eventName][0] = value\n    }\n  } else {\n    dom.removeEventListener(eventName, oldValue as any)\n  }\n}\n\nfunction setStyle (style: Style, key: string, value: string | number) {\n  if (key[0] === '-') {\n    style.setProperty(key, value.toString())\n  }\n\n  style[key] =\n    isNumber(value) && IS_NON_DIMENSIONAL.test(key) === false\n      ? value + 'px'\n      : value == null\n        ? ''\n        : value\n}\n\ntype StyleValue = Record<string, string | number>\ninterface DangerouslySetInnerHTML {\n  __html?: string\n}\n\nfunction setProperty (dom: TaroElement, name: string, value: unknown, oldValue?: unknown) {\n  name = name === 'className' ? 'class' : name\n\n  if (\n    name === 'key' ||\n    name === 'children' ||\n    name === 'ref'\n  ) {\n    // skip\n  } else if (name === 'style') {\n    const style = dom.style\n    if (isString(value)) {\n      style.cssText = value\n    } else {\n      if (isString(oldValue)) {\n        style.cssText = ''\n        oldValue = null\n      }\n\n      if (isObject<StyleValue>(oldValue)) {\n        for (const i in oldValue) {\n          if (!(value && i in (value as StyleValue))) {\n            setStyle(style, i, '')\n          }\n        }\n      }\n\n      if (isObject<StyleValue>(value)) {\n        for (const i in value) {\n          if (!oldValue || value[i] !== (oldValue as StyleValue)[i]) {\n            setStyle(style, i, value[i])\n          }\n        }\n      }\n    }\n  } else if (isEventName(name)) {\n    setEvent(dom, name, value, oldValue)\n  } else if (name === 'dangerouslySetInnerHTML') {\n    const newHtml = (value as DangerouslySetInnerHTML)?.__html ?? ''\n    const oldHtml = (oldValue as DangerouslySetInnerHTML)?.__html ?? ''\n    if (newHtml || oldHtml) {\n      if (oldHtml !== newHtml) {\n        dom.innerHTML = newHtml\n      }\n    }\n  } else if (!isFunction(value)) {\n    if (value == null) {\n      dom.removeAttribute(name)\n    } else {\n      dom.setAttribute(name, value as string)\n    }\n  }\n}\n","/* eslint-disable @typescript-eslint/indent */\nimport Reconciler, { HostConfig } from 'react-reconciler'\nimport * as scheduler from 'scheduler'\nimport { TaroElement, TaroText, document } from '@tarojs/runtime'\nimport { noop, EMPTY_ARR } from '@tarojs/shared'\nimport { Props, updateProps } from './props'\n\nconst {\n  unstable_scheduleCallback: scheduleDeferredCallback,\n  unstable_cancelCallback: cancelDeferredCallback,\n  unstable_now: now\n} = scheduler\n\nfunction returnFalse () {\n  return false\n}\n\nconst hostConfig: HostConfig<\n  string, // Type\n  Props, // Props\n  TaroElement, // Container\n  TaroElement, // Instance\n  TaroText, // TextInstance\n  TaroElement, // HydratableInstance\n  TaroElement, // PublicInstance\n  Record<string, any>, // HostContext\n  string[], // UpdatePayload\n  unknown, // ChildSet\n  unknown, // TimeoutHandle\n  unknown // NoTimeout\n> & {\n  hideInstance (instance: TaroElement): void\n  unhideInstance (instance: TaroElement, props): void\n} = {\n  createInstance (type) {\n    return document.createElement(type)\n  },\n\n  createTextInstance (text) {\n    return document.createTextNode(text)\n  },\n\n  getPublicInstance (inst: TaroElement) {\n    return inst\n  },\n\n  getRootHostContext () {\n    return {}\n  },\n\n  getChildHostContext () {\n    return {}\n  },\n\n  appendChild (parent, child) {\n    parent.appendChild(child)\n  },\n\n  appendInitialChild (parent, child) {\n    parent.appendChild(child)\n  },\n\n  appendChildToContainer (parent, child) {\n    parent.appendChild(child)\n  },\n\n  removeChild (parent, child) {\n    parent.removeChild(child)\n  },\n\n  removeChildFromContainer (parent, child) {\n    parent.removeChild(child)\n  },\n\n  insertBefore (parent, child, refChild) {\n    parent.insertBefore(child, refChild)\n  },\n\n  insertInContainerBefore (parent, child, refChild) {\n    parent.insertBefore(child, refChild)\n  },\n\n  commitTextUpdate (textInst, _, newText) {\n    textInst.nodeValue = newText\n  },\n\n  finalizeInitialChildren (dom, _, props) {\n    updateProps(dom, {}, props)\n    return false\n  },\n\n  prepareUpdate () {\n    return EMPTY_ARR\n  },\n\n  commitUpdate (dom, _payload, _type, oldProps, newProps) {\n    updateProps(dom, oldProps, newProps)\n  },\n\n  hideInstance (instance) {\n    const style = instance.style\n    style.setProperty('display', 'none')\n  },\n\n  unhideInstance (instance, props) {\n    const styleProp = props.style\n    let display = styleProp?.hasOwnProperty('display') ? styleProp.display : null\n    display = display == null || typeof display === 'boolean' || display === '' ? '' : ('' + display).trim()\n    // eslint-disable-next-line dot-notation\n    instance.style['display'] = display\n  },\n\n  shouldSetTextContent: returnFalse,\n  shouldDeprioritizeSubtree: returnFalse,\n  prepareForCommit: noop,\n  resetAfterCommit: noop,\n  commitMount: noop,\n  now,\n  scheduleDeferredCallback,\n  cancelDeferredCallback,\n  clearTimeout: clearTimeout,\n  setTimeout: setTimeout,\n  noTimeout: -1,\n  supportsMutation: true,\n  supportsPersistence: false,\n  isPrimaryRenderer: true,\n  supportsHydration: false\n}\n\nexport const TaroReconciler = Reconciler(hostConfig)\n","import { TaroElement } from '@tarojs/runtime'\nimport { ReactNode } from 'react'\nimport { TaroReconciler } from './reconciler'\nimport { OpaqueRoot } from 'react-reconciler'\n\nexport const ContainerMap: WeakMap<TaroElement, Root> = new WeakMap()\n\ntype Renderer = typeof TaroReconciler\n\nexport type Callback = () => void | null | undefined\n\nclass Root {\n  private renderer: Renderer\n  private internalRoot: OpaqueRoot\n\n  public constructor (renderer: Renderer, domContainer: TaroElement) {\n    this.renderer = renderer\n    this.internalRoot = renderer.createContainer(domContainer, false, false)\n  }\n\n  public render (children: ReactNode, cb: Callback) {\n    this.renderer.updateContainer(children, this.internalRoot, null, cb)\n\n    return this.renderer.getPublicRootInstance(this.internalRoot)\n  }\n\n  public unmount (cb: Callback) {\n    this.renderer.updateContainer(null, this.internalRoot, null, cb)\n  }\n}\n\nexport function render (element: ReactNode, domContainer: TaroElement, cb: Callback) {\n  const oldRoot = ContainerMap.get(domContainer)\n  if (oldRoot != null) {\n    return oldRoot.render(element, cb)\n  }\n\n  const root = new Root(TaroReconciler, domContainer)\n  ContainerMap.set(domContainer, root)\n  return root.render(element, cb)\n}\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { render, ContainerMap } from './render'\nimport { TaroReconciler } from './reconciler'\nimport { TaroElement } from '@tarojs/runtime'\nimport { ReactNode } from 'react'\nimport { ensure } from '@tarojs/shared'\n\nconst unstable_batchedUpdates = TaroReconciler.batchedUpdates\n\nfunction unmountComponentAtNode (dom: TaroElement) {\n  ensure(dom && [1, 8, 9, 11].includes(dom.nodeType), 'unmountComponentAtNode(...): Target container is not a DOM element.')\n\n  const root = ContainerMap.get(dom)\n\n  if (!root) return false\n\n  unstable_batchedUpdates(() => {\n    root.unmount(() => {\n      ContainerMap.delete(dom)\n    })\n  })\n\n  return true\n}\n\nfunction findDOMNode (comp?: TaroElement | ReactNode) {\n  if (comp == null) {\n    return null\n  }\n\n  const nodeType = (comp as TaroElement).nodeType\n  if (nodeType === 1 || nodeType === 3) {\n    return comp\n  }\n\n  return TaroReconciler.findHostInstance(comp as Record<string, any>)\n}\n\nconst portalType = typeof Symbol === 'function' && Symbol.for\n  ? Symbol.for('react.portal')\n  : 0xeaca\n\nfunction createPortal (\n  children: ReactNode,\n  containerInfo: TaroElement,\n  key?: string\n) {\n  return {\n    $$typeof: portalType,\n    key: key == null ? null : String(key),\n    children,\n    containerInfo,\n    implementation: null\n  }\n}\n\nexport {\n  render,\n  unstable_batchedUpdates,\n  unmountComponentAtNode,\n  findDOMNode,\n  createPortal\n}\n\nexport default {\n  render,\n  unstable_batchedUpdates,\n  unmountComponentAtNode,\n  findDOMNode,\n  createPortal\n}\n"],"names":["const","let","FormElement","capitalize","toCamelCase","internalComponents","isFunction","isNumber","isString","isObject","i","document","EMPTY_ARR","noop","ensure"],"mappings":"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"}