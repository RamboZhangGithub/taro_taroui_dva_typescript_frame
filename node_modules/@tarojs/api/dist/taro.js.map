{"version":3,"file":"taro.js","sources":["../src/polyfill.js","../src/env.js","../src/interceptor/chain.js","../src/interceptor/index.js","../src/interceptor/interceptors.js","../src/tools.js","../src/index.js"],"sourcesContent":["if (typeof Object.assign !== 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.assign = function (target) { // .length of function is 2\n    if (target == null) { // TypeError if undefined or null\n      throw new TypeError('Cannot convert undefined or null to object')\n    }\n\n    const to = Object(target)\n\n    for (let index = 1; index < arguments.length; index++) {\n      const nextSource = arguments[index]\n\n      if (nextSource != null) { // Skip over if undefined or null\n        for (const nextKey in nextSource) {\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey]\n          }\n        }\n      }\n    }\n    return to\n  }\n}\n\nif (typeof Object.defineProperties !== 'function') {\n  Object.defineProperties = function (obj, properties) {\n    function convertToDescriptor (desc) {\n      function hasProperty (obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop)\n      }\n\n      function isCallable (v) {\n        // NB: modify as necessary if other values than functions are callable.\n        return typeof v === 'function'\n      }\n\n      if (typeof desc !== 'object' || desc === null) { throw new TypeError('bad desc') }\n\n      const d = {}\n\n      if (hasProperty(desc, 'enumerable')) d.enumerable = !!desc.enumerable\n      if (hasProperty(desc, 'configurable')) { d.configurable = !!desc.configurable }\n      if (hasProperty(desc, 'value')) d.value = desc.value\n      if (hasProperty(desc, 'writable')) d.writable = !!desc.writable\n      if (hasProperty(desc, 'get')) {\n        const g = desc.get\n\n        if (!isCallable(g) && typeof g !== 'undefined') { throw new TypeError('bad get') }\n        d.get = g\n      }\n      if (hasProperty(desc, 'set')) {\n        const s = desc.set\n        if (!isCallable(s) && typeof s !== 'undefined') { throw new TypeError('bad set') }\n        d.set = s\n      }\n\n      if (('get' in d || 'set' in d) && ('value' in d || 'writable' in d)) { throw new TypeError('identity-confused descriptor') }\n\n      return d\n    }\n\n    if (typeof obj !== 'object' || obj === null) throw new TypeError('bad obj')\n\n    properties = Object(properties)\n\n    const keys = Object.keys(properties)\n    const descs = []\n\n    for (let i = 0; i < keys.length; i++) {\n      descs.push([keys[i], convertToDescriptor(properties[keys[i]])])\n    }\n\n    for (let i = 0; i < descs.length; i++) {\n      Object.defineProperty(obj, descs[i][0], descs[i][1])\n    }\n\n    return obj\n  }\n}\n","export const ENV_TYPE = {\n  WEAPP: 'WEAPP',\n  WEB: 'WEB',\n  RN: 'RN',\n  SWAN: 'SWAN',\n  ALIPAY: 'ALIPAY',\n  TT: 'TT',\n  QQ: 'QQ',\n  JD: 'JD'\n}\n\nlet _env = null\n\n// 一个taro项目肯定运行同样的环境\nexport function getEnv () {\n  if (_env) return _env\n  if (typeof jd !== 'undefined' && jd.getSystemInfo) {\n    _env = ENV_TYPE.JD\n    return ENV_TYPE.JD\n  }\n  if (typeof qq !== 'undefined' && qq.getSystemInfo) {\n    _env = ENV_TYPE.QQ\n    return ENV_TYPE.QQ\n  }\n  if (typeof tt !== 'undefined' && tt.getSystemInfo) {\n    _env = ENV_TYPE.TT\n    return ENV_TYPE.TT\n  }\n  if (typeof wx !== 'undefined' && wx.getSystemInfo) {\n    _env = ENV_TYPE.WEAPP\n    return ENV_TYPE.WEAPP\n  }\n  if (typeof swan !== 'undefined' && swan.getSystemInfo) {\n    _env = ENV_TYPE.SWAN\n    return ENV_TYPE.SWAN\n  }\n  if (typeof my !== 'undefined' && my.getSystemInfo) {\n    _env = ENV_TYPE.ALIPAY\n    return ENV_TYPE.ALIPAY\n  }\n  if (typeof global !== 'undefined' && global.__fbGenNativeModule) {\n    _env = ENV_TYPE.RN\n    return ENV_TYPE.RN\n  }\n  if (typeof window !== 'undefined') {\n    _env = ENV_TYPE.WEB\n    return ENV_TYPE.WEB\n  }\n  return 'Unknown environment'\n}\n","export default class Chain {\n  constructor (requestParams, interceptors = [], index = 0) {\n    this.index = index\n    this.requestParams = requestParams\n    this.interceptors = interceptors\n  }\n\n  proceed (requestParams) {\n    this.requestParams = requestParams\n    if (this.index >= this.interceptors.length) {\n      throw new Error('chain 参数错误, 请勿直接修改 request.chain')\n    }\n    const nextInterceptor = this._getNextInterceptor()\n    const nextChain = this._getNextChain()\n    const p = nextInterceptor(nextChain)\n    const res = p.catch(err => Promise.reject(err))\n    if (typeof p.abort === 'function') res.abort = p.abort\n    return res\n  }\n\n  _getNextInterceptor () {\n    return this.interceptors[this.index]\n  }\n\n  _getNextChain () {\n    return new Chain(this.requestParams, this.interceptors, this.index + 1)\n  }\n}\n","import Chain from './chain'\n\nexport default class Link {\n  constructor (interceptor) {\n    this.taroInterceptor = interceptor\n    this.chain = new Chain()\n  }\n\n  request (requestParams) {\n    this.chain.interceptors = this.chain.interceptors.filter(interceptor => interceptor !== this.taroInterceptor)\n    this.chain.interceptors.push(this.taroInterceptor)\n    return this.chain.proceed({ ...requestParams })\n  }\n\n  addInterceptor (interceptor) {\n    this.chain.interceptors.push(interceptor)\n  }\n\n  cleanInterceptors () {\n    this.chain = new Chain()\n  }\n}\n","export function timeoutInterceptor (chain) {\n  const requestParams = chain.requestParams\n  let p\n  const res = new Promise((resolve, reject) => {\n    let timeout = setTimeout(() => {\n      timeout = null\n      reject(new Error('网络链接超时,请稍后再试！'))\n    }, (requestParams && requestParams.timeout) || 60000)\n\n    p = chain.proceed(requestParams)\n    p.then(res => {\n      if (!timeout) return\n      clearTimeout(timeout)\n      resolve(res)\n    }).catch(err => {\n      timeout && clearTimeout(timeout)\n      reject(err)\n    })\n  })\n\n  if (p !== undefined && typeof p.abort === 'function') res.abort = p.abort\n  return res\n}\n\nexport function logInterceptor (chain) {\n  const requestParams = chain.requestParams\n  const { method, data, url } = requestParams\n  // eslint-disable-next-line no-console\n  console.log(`http ${method || 'GET'} --> ${url} data: `, data)\n  const p = chain.proceed(requestParams)\n  const res = p.then(res => {\n    // eslint-disable-next-line no-console\n    console.log(`http <-- ${url} result:`, res)\n    return res\n  })\n  if (typeof p.abort === 'function') res.abort = p.abort\n  return res\n}\n","export function Behavior (options) {\n  return options\n}\n\nexport function getPreload (taro) {\n  return function (key, val) {\n    if (typeof key === 'object') {\n      taro.preloadData = key\n    } else if (key !== undefined && val !== undefined) {\n      taro.preloadData = {\n        [key]: val\n      }\n    }\n  }\n}\n\nexport function getInitPxTransform (taro) {\n  return function (config) {\n    const {\n      designWidth = 700,\n      deviceRatio = {\n        640: 2.34 / 2,\n        750: 1,\n        828: 1.81 / 2\n      }\n    } = config\n    taro.config = taro.config || {}\n    taro.config.designWidth = designWidth\n    taro.config.deviceRatio = deviceRatio\n  }\n}\n\nexport function getPxTransform (taro) {\n  return function (size) {\n    const {\n      designWidth = 750,\n      deviceRatio = {\n        640: 2.34 / 2,\n        750: 1,\n        828: 1.81 / 2\n      }\n    } = taro.config || {}\n    if (!(designWidth in deviceRatio)) {\n      throw new Error(`deviceRatio 配置中不存在 ${designWidth} 的设置！`)\n    }\n    return (parseInt(size, 10) * deviceRatio[designWidth]) + 'rpx'\n  }\n}\n","/* eslint-disable camelcase */\nimport './polyfill'\nimport { getEnv, ENV_TYPE } from './env'\nimport Link from './interceptor'\nimport * as interceptors from './interceptor/interceptors'\nimport {\n  Behavior,\n  getPreload,\n  getPxTransform,\n  getInitPxTransform\n} from './tools'\nimport {\n  Current,\n  getCurrentInstance,\n  options,\n  nextTick,\n  eventCenter,\n  Events,\n  useDidShow,\n  useDidHide,\n  usePullDownRefresh,\n  useReachBottom,\n  usePageScroll,\n  useResize,\n  useShareAppMessage,\n  useTabItemTap,\n  useTitleClick,\n  useOptionMenuClick,\n  usePullIntercept,\n  useShareTimeline,\n  useAddToFavorites,\n  useReady,\n  useRouter\n} from '@tarojs/runtime'\n\nconst Taro = {\n  Behavior,\n  getEnv,\n  ENV_TYPE,\n  Link,\n  interceptors,\n  Current,\n  getCurrentInstance,\n  options,\n  nextTick,\n  eventCenter,\n  Events,\n  useDidShow,\n  useDidHide,\n  usePullDownRefresh,\n  useReachBottom,\n  usePageScroll,\n  useResize,\n  useShareAppMessage,\n  useTabItemTap,\n  useTitleClick,\n  useOptionMenuClick,\n  usePullIntercept,\n  useShareTimeline,\n  useAddToFavorites,\n  useReady,\n  useRouter\n}\n\nTaro.initPxTransform = getInitPxTransform(Taro)\nTaro.preload = getPreload(Taro)\nTaro.pxTransform = getPxTransform(Taro)\n\nexport default Taro\n"],"names":["Object","assign","target","TypeError","to","index","arguments","length","nextSource","nextKey","prototype","hasOwnProperty","call","defineProperties","obj","properties","convertToDescriptor","desc","hasProperty","prop","isCallable","v","d","enumerable","configurable","value","writable","g","get","s","set","keys","descs","i","push","defineProperty","ENV_TYPE","WEAPP","WEB","RN","SWAN","ALIPAY","TT","QQ","JD","_env","getEnv","jd","getSystemInfo","qq","tt","wx","swan","my","global","__fbGenNativeModule","window","Chain","requestParams","interceptors","Error","nextInterceptor","_getNextInterceptor","nextChain","_getNextChain","p","res","err","Promise","reject","abort","Link","interceptor","taroInterceptor","chain","filter","proceed","timeoutInterceptor","resolve","timeout","setTimeout","then","clearTimeout","undefined","logInterceptor","method","data","url","console","log","Behavior","options","getPreload","taro","key","val","preloadData","getInitPxTransform","config","designWidth","deviceRatio","getPxTransform","size","parseInt","Taro","Current","getCurrentInstance","nextTick","eventCenter","Events","useDidShow","useDidHide","usePullDownRefresh","useReachBottom","usePageScroll","useResize","useShareAppMessage","useTabItemTap","useTitleClick","useOptionMenuClick","usePullIntercept","useShareTimeline","useAddToFavorites","useReady","useRouter","initPxTransform","preload","pxTransform"],"mappings":"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"}