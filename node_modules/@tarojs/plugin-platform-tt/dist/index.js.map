{"version":3,"file":"index.js","sources":["../src/template.ts","../src/components.ts","../src/program.ts","../src/index.ts"],"sourcesContent":["import { RecursiveTemplate } from '@tarojs/shared'\n\nexport class Template extends RecursiveTemplate {\n  supportXS = false\n  Adapter = {\n    if: 'tt:if',\n    else: 'tt:else',\n    elseif: 'tt:elif',\n    for: 'tt:for',\n    forItem: 'tt:for-item',\n    forIndex: 'tt:for-index',\n    key: 'tt:key',\n    type: 'tt'\n  }\n}\n","import { singleQuote } from '@tarojs/shared'\n\nexport const components = {\n  // ======== 调整属性 ========\n  Icon: {\n    size: '24'\n  },\n  Button: {\n    bindGetPhoneNumber: ''\n  },\n  Form: {\n    'report-submit-timeout': '0'\n  },\n  Slider: {\n    color: singleQuote('#e9e9e9'),\n    'selected-color': singleQuote('#1aad19')\n  },\n  WebView: {\n    'progressbar-color': singleQuote('#51a0d8')\n  },\n  Video: {\n    'play-btn-position': singleQuote('center'),\n    'pre-roll-unit-id': '',\n    'post-roll-unit-id': '',\n    bindAdStart: '',\n    bindAdEnded: '',\n    bindAdLoad: '',\n    bindAdClose: '',\n    bindAdError: ''\n  },\n  Ad: {\n    fixed: '',\n    type: singleQuote('banner'),\n    scale: '100'\n  }\n}\n","import { TaroPlatformBase } from '@tarojs/service'\nimport { Template } from './template'\nimport { components } from './components'\n\nconst PACKAGE_NAME = '@tarojs/plugin-platform-tt'\n\nexport default class TT extends TaroPlatformBase {\n  platform = 'tt'\n  globalObject = 'tt'\n  projectConfigJson = 'project.tt.json'\n  runtimePath = `${PACKAGE_NAME}/dist/runtime`\n  fileType = {\n    templ: '.ttml',\n    style: '.ttss',\n    config: '.json',\n    script: '.js'\n  }\n\n  template = new Template()\n\n  /**\n   * 1. setupTransaction - init\n   * 2. setup\n   * 3. setupTransaction - close\n   * 4. buildTransaction - init\n   * 5. build\n   * 6. buildTransaction - close\n   */\n  constructor (ctx, config) {\n    super(ctx, config)\n\n    this.setupTransaction.addWrapper({\n      close: this.modifyTemplate\n    })\n  }\n\n  /**\n   * 增加组件或修改组件属性\n   */\n  modifyTemplate () {\n    this.template.mergeComponents(this.ctx, components)\n  }\n}\n","import TT from './program'\nimport type { IPluginContext } from '@tarojs/service'\n\n// 让其它平台插件可以继承此平台\nexport { TT }\n\nexport default (ctx: IPluginContext) => {\n  ctx.registerPlatform({\n    name: 'tt',\n    useConfigName: 'mini',\n    async fn ({ config }) {\n      const program = new TT(ctx, config)\n      await program.start()\n    }\n  })\n}\n"],"names":["RecursiveTemplate","singleQuote","TaroPlatformBase"],"mappings":";;;;;;;MAEa,QAAS,SAAQA,wBAAiB;IAA/C;;QACE,cAAS,GAAG,KAAK,CAAA;QACjB,YAAO,GAAG;YACR,EAAE,EAAE,OAAO;YACX,IAAI,EAAE,SAAS;YACf,MAAM,EAAE,SAAS;YACjB,GAAG,EAAE,QAAQ;YACb,OAAO,EAAE,aAAa;YACtB,QAAQ,EAAE,cAAc;YACxB,GAAG,EAAE,QAAQ;YACb,IAAI,EAAE,IAAI;SACX,CAAA;KACF;;;ACZM,MAAM,UAAU,GAAG;;IAExB,IAAI,EAAE;QACJ,IAAI,EAAE,IAAI;KACX;IACD,MAAM,EAAE;QACN,kBAAkB,EAAE,EAAE;KACvB;IACD,IAAI,EAAE;QACJ,uBAAuB,EAAE,GAAG;KAC7B;IACD,MAAM,EAAE;QACN,KAAK,EAAEC,kBAAW,CAAC,SAAS,CAAC;QAC7B,gBAAgB,EAAEA,kBAAW,CAAC,SAAS,CAAC;KACzC;IACD,OAAO,EAAE;QACP,mBAAmB,EAAEA,kBAAW,CAAC,SAAS,CAAC;KAC5C;IACD,KAAK,EAAE;QACL,mBAAmB,EAAEA,kBAAW,CAAC,QAAQ,CAAC;QAC1C,kBAAkB,EAAE,EAAE;QACtB,mBAAmB,EAAE,EAAE;QACvB,WAAW,EAAE,EAAE;QACf,WAAW,EAAE,EAAE;QACf,UAAU,EAAE,EAAE;QACd,WAAW,EAAE,EAAE;QACf,WAAW,EAAE,EAAE;KAChB;IACD,EAAE,EAAE;QACF,KAAK,EAAE,EAAE;QACT,IAAI,EAAEA,kBAAW,CAAC,QAAQ,CAAC;QAC3B,KAAK,EAAE,KAAK;KACb;CACF,CAAA;;AC/BD,MAAM,YAAY,GAAG,4BAA4B,CAAA;AAEjD,MAAqB,EAAG,SAAQC,wBAAgB;;;;;;;;;IAsB9C,YAAa,GAAG,EAAE,MAAM;QACtB,KAAK,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;QAtBpB,aAAQ,GAAG,IAAI,CAAA;QACf,iBAAY,GAAG,IAAI,CAAA;QACnB,sBAAiB,GAAG,iBAAiB,CAAA;QACrC,gBAAW,GAAG,GAAG,YAAY,eAAe,CAAA;QAC5C,aAAQ,GAAG;YACT,KAAK,EAAE,OAAO;YACd,KAAK,EAAE,OAAO;YACd,MAAM,EAAE,OAAO;YACf,MAAM,EAAE,KAAK;SACd,CAAA;QAED,aAAQ,GAAG,IAAI,QAAQ,EAAE,CAAA;QAavB,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;YAC/B,KAAK,EAAE,IAAI,CAAC,cAAc;SAC3B,CAAC,CAAA;KACH;;;;IAKD,cAAc;QACZ,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAA;KACpD;CACF;;ACpCD,YAAe,CAAC,GAAmB;IACjC,GAAG,CAAC,gBAAgB,CAAC;QACnB,IAAI,EAAE,IAAI;QACV,aAAa,EAAE,MAAM;QACrB,MAAM,EAAE,CAAE,EAAE,MAAM,EAAE;YAClB,MAAM,OAAO,GAAG,IAAI,EAAE,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;YACnC,MAAM,OAAO,CAAC,KAAK,EAAE,CAAA;SACtB;KACF,CAAC,CAAA;AACJ,CAAC,CAAA;;;;;"}